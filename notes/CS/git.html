<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>git</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/static/custom.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">git</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#打包"><span class="toc-section-number">1</span> 打包</a></li>
<li><a href="#提交"><span class="toc-section-number">2</span> 提交</a></li>
<li><a href="#撤销修改"><span class="toc-section-number">3</span> 撤销修改</a></li>
<li><a href="#分支"><span class="toc-section-number">4</span> 分支</a></li>
<li><a href="#冲突"><span class="toc-section-number">5</span> 冲突</a></li>
<li><a href="#标签"><span class="toc-section-number">6</span> 标签</a></li>
<li><a href="#查看状态"><span class="toc-section-number">7</span> 查看状态</a></li>
<li><a href="#别名"><span class="toc-section-number">8</span> 别名</a></li>
<li><a href="#获取"><span class="toc-section-number">9</span> 获取</a></li>
</ul>
</nav>
<h1 id="打包"><span class="header-section-number">1</span> 打包</h1>
<ul>
<li>导出并打包：<code>git archive 8996b47 | gzip &gt; ../nb.zip</code>或者<code>git archive --format=zip head &gt; nb.zip</code></li>
</ul>
<h1 id="提交"><span class="header-section-number">2</span> 提交</h1>
<ul>
<li>增加提交且不会产生新的提交记录：<code>git commit -C head -a -amend</code></li>
</ul>
<h1 id="撤销修改"><span class="header-section-number">3</span> 撤销修改</h1>
<ul>
<li>撤销尚未提交的修改：<code>git checkout head todo.txt</code></li>
<li>撤销所有文件：<code>git checkout head .</code></li>
<li>撤销提交
<ul>
<li>反转提交但是不提交：<code>git revert --no-commit head</code></li>
<li>复位到特定的版本：<code>git reset --hard</code></li>
</ul></li>
</ul>
<h1 id="分支"><span class="header-section-number">4</span> 分支</h1>
<ul>
<li>基于某次提交、分支或标签创建新分支：<code>git branch &lt;branch-name&gt; 2d9a8c</code></li>
<li>合并分支
<ul>
<li>普通合并
<ul>
<li>合并并提交：<code>git merge &lt;branch-name&gt;</code></li>
</ul></li>
<li>合并不提交：<code>git merge --no-commit</code></li>
<li>压合合并
<ul>
<li>压合合并并提交：<code>git merge --squash &lt;branch-name&gt;</code></li>
<li>压合合并但是不提交：<code>git merge --squash --no-commit &lt;branch-name&gt;</code></li>
</ul></li>
<li>拣选合并：<code>git cherry-pick --no-commit 2d9a8c</code></li>
</ul></li>
<li>重命名分支
<ul>
<li><code>git branch -m &lt;branch-name&gt; &lt;new-name&gt;</code></li>
<li><code>git branch -M &lt;branch-name&gt; &lt;new-name&gt;</code>：冲突名字直接覆盖</li>
</ul></li>
<li>删除分支
<ul>
<li><code>git branch -d &lt;branch-name&gt;</code></li>
<li><code>git branch -D &lt;branch-name&gt;</code>：即使该分支没有合并也会删除</li>
</ul></li>
<li>删除远程中已经不存在的分支：<code>git remote prune origin</code></li>
</ul>
<h1 id="冲突"><span class="header-section-number">5</span> 冲突</h1>
<ul>
<li>冲突很少时：直接编辑冲突文件然后提交</li>
<li>冲突很多：<code>git merge tool</code></li>
</ul>
<h1 id="标签"><span class="header-section-number">6</span> 标签</h1>
<ul>
<li>创建标签
<ul>
<li>为<code>branch-name</code>分支的最后一次提交创建标签：<code>git tag &lt;tag-name&gt; &lt;branch-name&gt;</code></li>
<li>为某次历史提交创建标签：<code>git tag &lt;tag-name&gt; 2d9a8c</code></li>
</ul></li>
<li>切换到标签：<code>git checkout v1.1</code></li>
<li>由标签创建分支：<code>git branch &lt;branch-name&gt; &lt;tag-name&gt;</code>或<code>git checkout -b &lt;branch-name&gt; &lt;tag-name&gt;</code></li>
<li>删除标签：<code>git tag -d &lt;tag-name&gt;</code></li>
</ul>
<h1 id="查看状态"><span class="header-section-number">7</span> 查看状态</h1>
<ul>
<li>查看每个分支最后一次的提交：<code>git branch -v</code></li>
</ul>
<h1 id="别名"><span class="header-section-number">8</span> 别名</h1>
<ul>
<li>添加远程版本库的别名：<code>git remote add &lt;别名&gt; &lt;远程主机的URL&gt;</code></li>
<li>删除远程库的别名和分支：<code>git remote rm &lt;别名&gt;</code></li>
</ul>
<h1 id="获取"><span class="header-section-number">9</span> 获取</h1>
<ul>
<li>获取但是不合并：<code>git fetch &lt;remote&gt; &lt;branch&gt;</code></li>
<li>获取并合并：<code>git pull &lt;remote&gt; &lt;branch&gt;</code></li>
</ul>
</body>
</html>
